[build]
  publish = "."

# 1) Never rewrite real files (critical)
[[redirects]]
  from = "/assets/*"
  to = "/assets/:splat"
  status = 200

[[redirects]]
  from = "/pages/*"
  to = "/pages/:splat"
  status = 200

# 2) Hidden preview routes (you can show clients)
[[redirects]]
  from = "/preview"
  to = "/index.html"
  status = 200

[[redirects]]
  from = "/preview/"
  to = "/index.html"
  status = 200

[[redirects]]
  from = "/preview/realtors"
  to = "/pages/realtors.html"
  status = 200

[[redirects]]
  from = "/preview/assessment"
  to = "/pages/assessment.html"
  status = 200

[[redirects]]
  from = "/preview/implementation"
  to = "/pages/unifi.html"
  status = 200

[[redirects]]
  from = "/preview/about"
  to = "/pages/about.html"
  status = 200

[[redirects]]
  from = "/preview/contact"
  to = "/pages/contact.html"
  status = 200

[[redirects]]
  from = "/preview/book"
  to = "/pages/contact.html"
  status = 200

[[redirects]]
  from = "/preview/thanks"
  to = "/pages/thanks.html"
  status = 200

# 3) Public site locked to coming soon
[[redirects]]
  from = "/*"
  to = "/coming-soon.html"
  status = 200
  force = true

# 4) Add correct MIME types (belt + suspenders)
[[headers]]
  for = "/assets/css/*"
  [headers.values]
    Content-Type = "text/css; charset=utf-8"

[[headers]]
  for = "/assets/js/*"
  [headers.values]
    Content-Type = "text/javascript; charset=utf-8"
